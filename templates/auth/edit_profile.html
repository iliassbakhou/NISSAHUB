{% extends "base.html" %}

{% block title %}Edit Your Profile - NissaHub{% endblock %}

{% block content %}
<div class="container">
    <div class="auth-container">
        <h2>Edit Your Profile</h2>
        <p class="text-center">Keep your profile up to date so the community can get to know you.</p>

        <form class="auth-form" method="POST" action="{{ url_for('edit_profile_page') }}" enctype="multipart/form-data" style="margin-top: 3rem;">
            
            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input type="text" id="display_name" name="display_name" required value="{{ user.displayName or '' }}" placeholder="Your full name or a creative username">
            </div>

            <div class="form-group">
                <label for="bio">Your Bio</label>
                <textarea id="bio" name="bio" rows="4" placeholder="Tell the community a little bit about yourself and your skills.">{{ user.bio or '' }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="profile_image">Profile Picture</label>
                {% if user.avatar_url %}
                    <div style="margin-bottom: 1.5rem; text-align:center;">
                        <img src="{{ user.avatar_url | transform_cloudinary('card') }}" alt="Your current profile picture" style="max-width: 150px; border-radius: 50%; margin-bottom: 1rem;">
                        <p style="color: #6c757d; font-size: 1.4rem;">Current Picture</p>
                    </div>
                {% endif %}
                <input type="file" id="profile_image" name="profile_image" accept="image/png, image/jpeg">
            </div>

            <button type="submit" class="btn btn-primary btn-block btn-lg" style="margin-top: 1rem;">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}