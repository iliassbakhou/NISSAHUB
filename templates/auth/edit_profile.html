{% extends "base.html" %}

{% block title %}{{ page_title }} - NissaHub{% endblock %}

{% block content %}
<div class="container">
    <div class="auth-container">
        <h2>{{ page_title }}</h2>
        <p>Keep your profile up to date so the community can get to know you.</p>

        <form class="auth-form" method="POST" action="{{ url_for('edit_profile_page') }}" enctype="multipart/form-data">
            
            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input type="text" id="display_name" name="display_name" required value="{{ user.displayName or '' }}" placeholder="Your full name or a creative username">
            </div>

            <div class="form-group">
                <label for="bio">Your Bio</label>
                <textarea id="bio" name="bio" rows="4" placeholder="Tell the community a little bit about yourself and your skills.">{{ user.bio or '' }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="profile_image">Profile Picture</label>
                {% if user.avatar_url %}
                    <div class="current-image-preview">
                        <img src="{{ user.avatar_url }}" alt="Your current profile picture">
                        <span>Current Picture</span>
                    </div>
                {% endif %}
                <input class="input-file" type="file" id="profile_image" name="profile_image" accept="image/png, image/jpeg">
            </div>

            <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}